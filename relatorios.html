<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Relat√≥rios - F√°brica de Picol√©s</title>
    <link rel="stylesheet" href="styles.css" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  </head>
  <body class="page-app">
    <header class="topbar">
      <div class="topbar-content">
        <h1 class="topbar-title">üç¶ F√°brica de Picol√©s</h1>
        <div class="topbar-actions">
          <span class="user-info" id="user-name">Usu√°rio</span>
          <a href="index.html" class="btn btn-logout">Sair</a>
        </div>
      </div>
    </header>

    <div class="app-layout">
      <aside class="sidebar">
        <nav class="sidebar-nav">
          <a href="dashboard.html" class="nav-item">
            <span class="nav-icon">üìä</span>
            <span class="nav-text">Dashboard</span>
          </a>
          <a href="cadastros.html" class="nav-item">
            <span class="nav-icon">üìù</span>
            <span class="nav-text">Cadastros</span>
          </a>
          <a href="producao.html" class="nav-item">
            <span class="nav-icon">üè≠</span>
            <span class="nav-text">Produ√ß√£o</span>
          </a>
          <a href="vendas.html" class="nav-item">
            <span class="nav-icon">üí∞</span>
            <span class="nav-text">Vendas</span>
          </a>
          <a href="relatorios.html" class="nav-item active">
            <span class="nav-icon">üìà</span>
            <span class="nav-text">Relat√≥rios</span>
          </a>
        </nav>
      </aside>

      <main class="main-content">
        <div class="page-header">
          <h2>Relat√≥rios</h2>
          <p class="page-subtitle">An√°lise de vendas e desempenho</p>
        </div>

        <!-- Filtros Globais -->
        <div class="card filters-card">
          <h3>Filtros</h3>
          <div class="grid-4">
            <div class="form-group">
              <label for="filter-ano">Ano</label>
              <select id="filter-ano">
                <option value="2025">2025</option>
                <option value="2024">2024</option>
                <option value="2023">2023</option>
              </select>
            </div>
            <div class="form-group">
              <label for="filter-mes">M√™s</label>
              <select id="filter-mes">
                <option value="">Todos</option>
                <option value="1">Janeiro</option>
                <option value="2">Fevereiro</option>
                <option value="3">Mar√ßo</option>
                <option value="4">Abril</option>
                <option value="5">Maio</option>
                <option value="6">Junho</option>
                <option value="7">Julho</option>
                <option value="8">Agosto</option>
                <option value="9">Setembro</option>
                <option value="10">Outubro</option>
                <option value="11">Novembro</option>
                <option value="12">Dezembro</option>
              </select>
            </div>
            <div class="form-group">
              <label for="filter-tipo-picole">Tipo de Picol√©</label>
              <select id="filter-tipo-picole">
                <option value="">Todos</option>
              </select>
            </div>
            <div class="form-group">
              <button class="btn btn-primary" id="btn-atualizar-relatorios">
                Atualizar Relat√≥rios
              </button>
            </div>
          </div>
        </div>

        <!-- Resumo Estat√≠stico -->
        <div class="stats-grid">
          <div class="stat-card-report">
            <div class="stat-icon-report blue">üí∞</div>
            <div class="stat-details">
              <span class="stat-label">Faturamento Total</span>
              <span class="stat-value-report" id="stat-faturamento"
                >R$ 0,00</span
              >
            </div>
          </div>

          <div class="stat-card-report">
            <div class="stat-icon-report green">üì¶</div>
            <div class="stat-details">
              <span class="stat-label">Total de Lotes Vendidos</span>
              <span class="stat-value-report" id="stat-lotes">0</span>
            </div>
          </div>

          <div class="stat-card-report">
            <div class="stat-icon-report purple">üìÑ</div>
            <div class="stat-details">
              <span class="stat-label">Notas Fiscais Emitidas</span>
              <span class="stat-value-report" id="stat-notas">0</span>
            </div>
          </div>

          <div class="stat-card-report">
            <div class="stat-icon-report orange">üèÜ</div>
            <div class="stat-details">
              <span class="stat-label">Melhor Revendedor</span>
              <span class="stat-value-report" id="stat-melhor-revendedor"
                >-</span
              >
            </div>
          </div>
        </div>

        <!-- Gr√°fico: Vendas Mensais por Tipo -->
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h3>üìä Vendas Mensais por Tipo de Picol√©</h3>
              <div class="chart-legend" id="legend-vendas"></div>
            </div>
            <div class="chart-container">
              <canvas id="chart-vendas-mensais"></canvas>
            </div>
          </div>
        </section>

        <!-- Gr√°fico: Top Revendedores -->
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h3>üèÜ Ranking de Revendedores</h3>
              <select id="ranking-criterio">
                <option value="quantidade">Por Quantidade</option>
                <option value="valor">Por Valor</option>
              </select>
            </div>
            <div class="chart-container">
              <canvas id="chart-top-revendedores"></canvas>
            </div>
          </div>
        </section>

        <!-- Gr√°ficos Adicionais em Grid -->
        <div class="grid-2">
          <!-- Gr√°fico: Distribui√ß√£o por Tipo -->
          <div class="card">
            <h3>üìà Distribui√ß√£o de Vendas por Tipo</h3>
            <div class="chart-container-small">
              <canvas id="chart-distribuicao-tipos"></canvas>
            </div>
          </div>

          <!-- Gr√°fico: Evolu√ß√£o de Vendas -->
          <div class="card">
            <h3>üìâ Evolu√ß√£o de Vendas (12 meses)</h3>
            <div class="chart-container-small">
              <canvas id="chart-evolucao-vendas"></canvas>
            </div>
          </div>
        </div>

        <!-- Tabela: Detalhamento de Vendas -->
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h3>üìã Detalhamento de Vendas</h3>
              <button class="btn btn-secondary btn-sm" id="btn-exportar-excel">
                üì• Exportar Excel
              </button>
            </div>
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Ano</th>
                    <th>M√™s</th>
                    <th>Tipo de Picol√©</th>
                    <th>Total de Notas</th>
                    <th>Lotes Vendidos</th>
                    <th>Valor Total</th>
                  </tr>
                </thead>
                <tbody id="table-detalhamento">
                  <tr>
                    <td colspan="6" class="text-center text-muted">
                      Nenhum dado dispon√≠vel
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Tabela: Top Revendedores Detalhado -->
        <section class="section">
          <div class="card">
            <h3>üèÖ Top 10 Revendedores</h3>
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>Posi√ß√£o</th>
                    <th>CNPJ</th>
                    <th>Raz√£o Social</th>
                    <th>Total de Compras</th>
                    <th>Lotes Comprados</th>
                    <th>Valor Total</th>
                  </tr>
                </thead>
                <tbody id="table-top-revendedores">
                  <tr>
                    <td colspan="6" class="text-center text-muted">
                      Nenhum dado dispon√≠vel
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </main>
    </div>
    <script src="app.js"></script>
  </body>
</html>
