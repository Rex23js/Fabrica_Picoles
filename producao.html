<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Produ√ß√£o - F√°brica de Picol√©s</title>
    <link rel="stylesheet" href="styles.css" />
  </head>
  <body class="page-app">
    <header class="topbar">
      <div class="topbar-content">
        <h1 class="topbar-title">üç¶ F√°brica de Picol√©s</h1>
        <div class="topbar-actions">
          <span class="user-info" id="user-name">Usu√°rio</span>
          <a href="index.html" class="btn btn-logout">Sair</a>
        </div>
      </div>
    </header>

    <div class="app-layout">
      <aside class="sidebar">
        <nav class="sidebar-nav">
          <a href="dashboard.html" class="nav-item">
            <span class="nav-icon">üìä</span>
            <span class="nav-text">Dashboard</span>
          </a>
          <a href="cadastros.html" class="nav-item">
            <span class="nav-icon">üìù</span>
            <span class="nav-text">Cadastros</span>
          </a>
          <a href="producao.html" class="nav-item active">
            <span class="nav-icon">üè≠</span>
            <span class="nav-text">Produ√ß√£o</span>
          </a>
          <a href="vendas.html" class="nav-item">
            <span class="nav-icon">üí∞</span>
            <span class="nav-text">Vendas</span>
          </a>
          <a href="relatorios.html" class="nav-item">
            <span class="nav-icon">üìà</span>
            <span class="nav-text">Relat√≥rios</span>
          </a>
        </nav>
      </aside>

      <main class="main-content">
        <div class="page-header">
          <h2>Produ√ß√£o</h2>
          <p class="page-subtitle">
            Gerenciamento de picol√©s e lotes de produ√ß√£o
          </p>
        </div>

        <!-- Se√ß√£o: Cadastrar Picol√© -->
        <section class="section">
          <div class="card">
            <h3>Cadastrar Novo Picol√©</h3>
            <form id="form-picole">
              <div class="grid-3">
                <div class="form-group">
                  <label for="picole-sabor">Sabor *</label>
                  <select id="picole-sabor" name="id_sabor" required>
                    <option value="">Selecione o sabor</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="picole-tipo">Tipo de Picol√© *</label>
                  <select id="picole-tipo" name="id_tipo_picole" required>
                    <option value="">Selecione o tipo</option>
                  </select>
                </div>

                <div class="form-group">
                  <label for="picole-embalagem">Tipo de Embalagem *</label>
                  <select
                    id="picole-embalagem"
                    name="id_tipo_embalagem"
                    required
                  >
                    <option value="">Selecione a embalagem</option>
                  </select>
                </div>
              </div>

              <div class="form-group">
                <label for="picole-preco">Pre√ßo (R$) *</label>
                <input
                  type="number"
                  id="picole-preco"
                  name="preco"
                  step="0.01"
                  min="0.01"
                  required
                  placeholder="0.00"
                />
              </div>

              <!-- Associa√ß√µes -->
              <div class="form-section">
                <h4>Ingredientes</h4>
                <div class="checkbox-group" id="picole-ingredientes">
                  <!-- Ingredientes ser√£o carregados dinamicamente -->
                </div>
              </div>

              <div class="form-section">
                <h4>Aditivos Nutritivos</h4>
                <div class="checkbox-group" id="picole-aditivos">
                  <!-- Aditivos ser√£o carregados dinamicamente -->
                </div>
              </div>

              <div class="form-section">
                <h4>Conservantes</h4>
                <div class="checkbox-group" id="picole-conservantes">
                  <!-- Conservantes ser√£o carregados dinamicamente -->
                </div>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="btn btn-secondary"
                  id="btn-limpar-picole"
                >
                  Limpar
                </button>
                <button type="submit" class="btn btn-primary">
                  Salvar Picol√©
                </button>
              </div>
            </form>
          </div>
        </section>

        <!-- Se√ß√£o: Picol√©s Cadastrados -->
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h3>Picol√©s Cadastrados</h3>
              <div class="search-box">
                <input
                  type="text"
                  id="search-picole"
                  placeholder="Buscar picol√©..."
                />
              </div>
            </div>
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Sabor</th>
                    <th>Tipo</th>
                    <th>Embalagem</th>
                    <th>Pre√ßo</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="table-picoles">
                  <tr>
                    <td colspan="6" class="text-center text-muted">
                      Nenhum picol√© cadastrado
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>

        <!-- Se√ß√£o: Criar Lote -->
        <!-- SUBSTITUIR se√ß√£o de cria√ß√£o de lote (linha ~145): -->
        <section class="section" id="lotes">
          <div class="card">
            <h3>Criar Novo Lote de Produ√ß√£o</h3>
            <form id="form-lote">
              <div class="grid-2">
                <!-- MUDAN√áA: Selecionar picol√© espec√≠fico ao inv√©s de tipo -->
                <div class="form-group">
                  <label for="lote-picole">Picol√© *</label>
                  <select id="lote-picole" name="id_picole" required>
                    <option value="">Selecione o picol√©</option>
                  </select>
                  <small class="form-hint"
                    >Escolha o picol√© espec√≠fico (sabor + tipo)</small
                  >
                </div>

                <div class="form-group">
                  <label for="lote-quantidade">Quantidade *</label>
                  <input
                    type="number"
                    id="lote-quantidade"
                    name="quantidade"
                    min="1"
                    required
                    placeholder="1000"
                  />
                  <small class="form-hint"
                    >Quantidade de picol√©s produzidos</small
                  >
                </div>
              </div>

              <div class="form-actions">
                <button
                  type="button"
                  class="btn btn-secondary"
                  id="btn-limpar-lote"
                >
                  Limpar
                </button>
                <button type="submit" class="btn btn-primary">
                  Criar Lote
                </button>
              </div>
            </form>
          </div>
        </section>
        <!-- Se√ß√£o: Lotes de Produ√ß√£o -->
        <section class="section">
          <div class="card">
            <div class="card-header">
              <h3>Lotes de Produ√ß√£o</h3>
              <div class="filter-group">
                <select id="filter-tipo-lote">
                  <option value="">Todos os tipos</option>
                </select>
              </div>
            </div>
            <div class="table-container">
              <table class="table">
                <thead>
                  <tr>
                    <th>ID</th>
                    <th>Tipo de Picol√©</th>
                    <th>Quantidade</th>
                    <th>Dispon√≠vel</th>
                    <th>Status</th>
                    <th>A√ß√µes</th>
                  </tr>
                </thead>
                <tbody id="table-lotes">
                  <tr>
                    <td colspan="6" class="text-center text-muted">
                      Nenhum lote cadastrado
                    </td>
                  </tr>
                </tbody>
              </table>
            </div>
          </div>
        </section>
      </main>
    </div>

    <!-- Modal: Detalhes do Picol√© -->
    <div id="modal-detalhes-picole" class="modal">
      <div class="modal-content">
        <div class="modal-header">
          <h3>Detalhes do Picol√©</h3>
          <button class="modal-close" data-close="modal-detalhes-picole">
            &times;
          </button>
        </div>
        <div class="modal-body" id="modal-picole-body">
          <!-- Conte√∫do din√¢mico -->
        </div>
      </div>
    </div>
    <script src="app.js"></script>
    <script src="producao.js"></script>
  </body>
</html>
